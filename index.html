
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#supported-formats" class="toc-h2 toc-link" data-title="supported-formats">Supported formats</a>
                  </li>
                  <li>
                    <a href="#supported-compression-types" class="toc-h2 toc-link" data-title="supported-compression-types">Supported compression types</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication-2" class="toc-h1 toc-link" data-title="authentication">Authentication</a>
          </li>
          <li>
            <a href="#account-details" class="toc-h1 toc-link" data-title="account-details">Account details</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#update-account-settings" class="toc-h1 toc-link" data-title="update-account-settings">Update account settings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#parameters" class="toc-h2 toc-link" data-title="parameters">Parameters</a>
                  </li>
                  <li>
                    <a href="#response-2" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-compression-synchronously" class="toc-h1 toc-link" data-title="image-compression-synchronously">Image compression (Synchronously)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#image-upload" class="toc-h2 toc-link" data-title="image-upload">Image Upload</a>
                  </li>
                  <li>
                    <a href="#image-url" class="toc-h2 toc-link" data-title="image-url">Image URL</a>
                  </li>
                  <li>
                    <a href="#response-3" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-compression-asynchronously-respond-with-webhooks" class="toc-h1 toc-link" data-title="image-compression-asynchronously-respond-with-webhooks">Image compression (Asynchronously, respond with webhooks)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#image-upload-2" class="toc-h2 toc-link" data-title="image-upload">Image Upload</a>
                  </li>
                  <li>
                    <a href="#image-url-2" class="toc-h2 toc-link" data-title="image-url">Image URL</a>
                  </li>
                  <li>
                    <a href="#response-4" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-resizing" class="toc-h1 toc-link" data-title="image-resizing">Image Resizing</a>
          </li>
          <li>
            <a href="#dashboard" class="toc-h1 toc-link" data-title="dashboard">Dashboard</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response-5" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-details" class="toc-h1 toc-link" data-title="image-details">Image details</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-parameters" class="toc-h2 toc-link" data-title="query-parameters">Query Parameters</a>
                  </li>
                  <li>
                    <a href="#response-6" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#list-images" class="toc-h1 toc-link" data-title="list-images">List images</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-parameters-2" class="toc-h2 toc-link" data-title="query-parameters">Query Parameters</a>
                  </li>
                  <li>
                    <a href="#response-7" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#image-processing" class="toc-h2 toc-link" data-title="code-image-processing-code"><code>image#processing</code></a>
                  </li>
                  <li>
                    <a href="#image-error" class="toc-h2 toc-link" data-title="code-image-error-code"><code>image#error</code></a>
                  </li>
                  <li>
                    <a href="#image-optimized" class="toc-h2 toc-link" data-title="code-image-optimized-code"><code>image#optimized</code></a>
                  </li>
                  <li>
                    <a href="#shop-subscription_updated" class="toc-h2 toc-link" data-title="code-shop-subscription_updated-code"><code>shop#subscription_updated</code></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a API token</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>Base URL</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics
</code></pre><h3 id='authentication'>Authentication</h3>
<p>To use Crush.pics API, you need to sign up for Crush.pics API services and obtain your <b>API token</b>. Once you have setup your Account, you can start using Crush.pics API.</p>
<h3 id='supported-formats'>Supported formats</h3>
<p>Crush.pics API support following formats:</p>

<ul>
<li><code>JPEG</code></li>
<li><code>PNG</code></li>
<li><code>GIF</code></li>
</ul>
<h3 id='supported-compression-types'>Supported compression types</h3>
<p>Crush.pics API support following compression types:</p>

<ul>
<li><code>lossless</code></li>
<li><code>lossy</code> with ability to set up compression level</li>
<li><code>balanced</code></li>
</ul>
<h1 id='authentication-2'>Authentication</h1>
<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/compress
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>POST
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"image_url=https://your-website.com/images/image.png"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Crush.pics API accepts HTTPS <code>POST</code>, <code>PATCH</code>, <code>GET</code> requests. Each request needs to be a valid JSON object with mandatory headers <code>Authorization</code>, <code>Accept</code> and <code>Content-Type</code>.</p>

<aside class="notice">
Important: Crush.pics API supports only <code>HTTPS</code> protocol. All HTTP requests will be rejected.
</aside>
<h1 id='account-details'>Account details</h1>
<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/shop
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>GET
</code></pre><h2 id='response'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"shop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level_jpg"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level_png"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level_gif"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"charged_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_charge_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-12T15:04:27Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-12T15:04:27Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your.site/crush_api/webhook"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"free"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$0.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quota_usage"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600688</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='update-account-settings'>Update account settings</h1>
<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/shop
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>PATCH
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/shop"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">$'{
  "compression_level_png": 70,
  "compression_level_jpg": 70,
  "compression_level_gif": 70,
  "compression_type": "lossy",
  "callback_url": "https://your.site/crush_api/webhook",
}'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level_jpg"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level_png"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level_gif"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your.site/crush_api/webhook"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>compression_type</code></td>
<td>string</td>
<td>no</td>
<td><code>lossy</code> / <code>lossless</code> / <code>balanced</code> compression switch</td>
</tr>
<tr>
<td><code>compression_level_jpg</code></td>
<td>integer</td>
<td>no</td>
<td>Lossy compression level for JPEG/JPG files</td>
</tr>
<tr>
<td><code>compression_level_png</code></td>
<td>integer</td>
<td>no</td>
<td>Lossy compression level for PNG files</td>
</tr>
<tr>
<td><code>compression_level_gif</code></td>
<td>integer</td>
<td>no</td>
<td>Lossy compression level for GIF files</td>
</tr>
<tr>
<td><code>callback_url</code></td>
<td>string</td>
<td>no</td>
<td>URL for receiving webhook events</td>
</tr>
</tbody></table>
<h2 id='response-2'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"shop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level_jpg"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level_png"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level_gif"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"charged_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_charge_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-12T15:04:27Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-12T15:04:27Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your.site/crush_api/webhook"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"free"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$0.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quota_usage"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600688</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='image-compression-synchronously'>Image compression (Synchronously)</h1>
<p>You can send any JPEG, PNG, GIF or SVG image to the Crush.pics API and it will automatically detect the type of image and compress it. You can choose to upload a file or provide a URL to the image.</p>

<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/compress
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>POST
</code></pre><h2 id='image-upload'>Image Upload</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: multipart/form-data; boundary=Fu0hjwe'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"file=@unoptimized-image.jpg"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span> <span class="se">\</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@unoptimized-image.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>file</code></td>
<td>blob</td>
<td>yes</td>
<td></td>
<td>Provide image content in POST request</td>
</tr>
<tr>
<td><code>compression_type</code></td>
<td>string</td>
<td>no</td>
<td>Fallback to account settings</td>
<td><code>lossy</code> / <code>lossless</code> / <code>balanced</code> compression switch</td>
</tr>
<tr>
<td><code>compression_level</code></td>
<td>integer</td>
<td>no</td>
<td>Fallback to account settings</td>
<td>Lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td><code>resize</code></td>
<td>array</td>
<td>no</td>
<td>[]</td>
<td>An array of styles to resize image</td>
</tr>
</tbody></table>
<h3 id='style-object'>Style object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>style</code></td>
<td>string</td>
<td>yes</td>
<td>User-defined style name</td>
</tr>
<tr>
<td><code>width</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td><code>height</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
</tbody></table>
<h2 id='image-url'>Image URL</h2>
<p>Optimise image by provide an URL to the image you want to optimise.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"image_url=https://your-website.com/images/image.png"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>image_url</code></td>
<td>string</td>
<td>yes</td>
<td></td>
<td>Provide <code>URL</code> to the image you want to compress</td>
</tr>
<tr>
<td><code>compression_type</code></td>
<td>string</td>
<td>no</td>
<td>Fallback to account settings</td>
<td><code>lossy</code> / <code>lossless</code> / <code>balanced</code> compression switc</td>
</tr>
<tr>
<td><code>compression_level</code></td>
<td>integer</td>
<td>no</td>
<td>Fallback to account settings</td>
<td>lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td><code>resize</code></td>
<td>array</td>
<td>no</td>
<td>[]</td>
<td>An array of styles to resize image</td>
</tr>
</tbody></table>
<h3 id='style-object-2'>Style object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>style</code></td>
<td>string</td>
<td>yes</td>
<td>User-defined style name</td>
</tr>
<tr>
<td><code>width</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td><code>height</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
</tbody></table>
<h2 id='response-3'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"original_image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297412</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:42.943Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:46.074Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/X8KxL3cD1viTBasepBwSL4Tz/photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"optimized_images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enqueued"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossless"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"icon"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/ZdcSBAk1m4XMeH9KNvSmWFNN/photo.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">465</span><span class="p">,</span><span class="w">
        </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:43.005Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:46.069Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Response body will have optimization results containing a success property, original file size, compressed file size, amount of savings, original image dimensions (in pixels) and optimized image URL.</p>
<h1 id='image-compression-asynchronously-respond-with-webhooks'>Image compression (Asynchronously, respond with webhooks)</h1>
<p>You can send any JPEG, PNG, GIF or SVG image to the Crush.pics API and it will automatically detect the type of image and compress it. You can choose to upload a file or provide a URL to the image.</p>

<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/original_images
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>POST
</code></pre><h2 id='image-upload-2'>Image Upload</h2>
<p>Optimise image with direct upload in POST request</p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/original_images"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: multipart/form-data; boundary=Fu0hjwe'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"file=@unoptimized-image.jpg"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span> <span class="se">\</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@unoptimized-image.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>file</code></td>
<td>blob</td>
<td>yes</td>
<td></td>
<td>Provide image content in POST request</td>
</tr>
<tr>
<td><code>compression_type</code></td>
<td>string</td>
<td>no</td>
<td>Fallback to account settings</td>
<td><code>lossy</code> / <code>lossless</code> / <code>balanced</code> compression switch</td>
</tr>
<tr>
<td><code>compression_level</code></td>
<td>integer</td>
<td>no</td>
<td>Fallback to account settings</td>
<td>Lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td><code>resize</code></td>
<td>array</td>
<td>no</td>
<td>[]</td>
<td>An array of styles to resize image</td>
</tr>
</tbody></table>
<h3 id='style-object-3'>Style object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>style</code></td>
<td>string</td>
<td>yes</td>
<td>User-defined style name</td>
</tr>
<tr>
<td><code>width</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td><code>height</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
</tbody></table>
<h2 id='image-url-2'>Image URL</h2>
<p>Optimise image by provide an URL to the image you want to optimise.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/original_images"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"image_url=https://your-website.com/images/image.png"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parameters-5'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>image_url</code></td>
<td>string</td>
<td>yes</td>
<td></td>
<td>Provide <code>URL</code> to the image you want to compress</td>
</tr>
<tr>
<td><code>compression_type</code></td>
<td>string</td>
<td>no</td>
<td>Fallback to account settings</td>
<td><code>lossy</code> / <code>lossless</code> / <code>balanced</code> compression switc</td>
</tr>
<tr>
<td><code>compression_level</code></td>
<td>integer</td>
<td>no</td>
<td>Fallback to account settings</td>
<td>lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td><code>resize</code></td>
<td>array</td>
<td>no</td>
<td>[]</td>
<td>An array of styles to resize image</td>
</tr>
</tbody></table>
<h3 id='style-object-4'>Style object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>style</code></td>
<td>string</td>
<td>yes</td>
<td>User-defined style name</td>
</tr>
<tr>
<td><code>width</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td><code>height</code></td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
</tbody></table>

<aside class="notice">
If HTTP Basic Authentication is enabled on your webserver simply include the username and password as part of the image URL like so: <code>https://username:password@my-website.com/images/image.png</code>
</aside>
<h2 id='response-4'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"original_image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297412</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enqueued"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-29T15:52:22.589Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-29T15:52:22.596Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/LX8Xhv3Z2T2dQDSRnrC3UBxg/photo.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>HTTP/1.1 422 Unprocessable Entity</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"can't be blank"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"formatted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"File can't be blank"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Response body will contain a set of basic image attributes e.g <code>id</code>, <code>size</code>, <code>filename</code>, <code>status</code> and etc. Using the image <code>id</code> you can fetch results of image optimization and get compressed/resized images.</p>
<h1 id='image-resizing'>Image Resizing</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/original_images"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: multipart/form-data; boundary=ArRCoq7'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -d <span class="s1">$'{
  "compression_type": "lossy",
  "resize[][width]": "100",
  "compression_level": "65",
  "image_url": "http://your-website.com/images/image.png",
  "resize[][style]": "thumb",
  "resize[][height]": "100",
  "resize[][width]": "320",
  "resize[][height]": "crop",
  "resize[][style]": "pico",
  "resize[][height]": "25",
  "resize[][width]": "80",
  "resize[][height]": "crop",
}'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resize"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thumb"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pico"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>You can use Crush.pics API resizing option to create thumbnails or preview images for your applications. Crush.pics will first resize the given image and then optimize it. The resize option needs a few parameters to be passed, such as the desired width and/or height, as well as a mandatory style property.</p>

<aside class="notice">
Crush.pics API does not support resizing only operations. All resizing operations perform on compressed images.
</aside>
<h1 id='dashboard'>Dashboard</h1>
<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/dashboard
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>GET
</code></pre><h2 id='response-5'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"original_images_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">475</span><span class="p">,</span><span class="w">
    </span><span class="s2">"optimized_images_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">475</span><span class="p">,</span><span class="w">
    </span><span class="s2">"consumption"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"six_months"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify_article"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1858202</span><span class="p">,</span><span class="w">
          </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='image-details'>Image details</h1>
<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/original_images/:id
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>GET
</code></pre><h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>yes</td>
<td>Image ID</td>
</tr>
</tbody></table>
<h2 id='response-6'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"original_image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297412</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:42.943Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:46.074Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/X8KxL3cD1viTBasepBwSL4Tz/photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"optimized_images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enqueued"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossless"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"icon"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/ZdcSBAk1m4XMeH9KNvSmWFNN/photo.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">465</span><span class="p">,</span><span class="w">
        </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:43.005Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:46.069Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='list-images'>List images</h1>
<blockquote>
<p>Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics/v1/original_images?page=1
</code></pre>
<blockquote>
<p>HTTP method</p>
</blockquote>
<pre class="highlight plaintext"><code>GET
</code></pre><h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>page</code></td>
<td>integer</td>
<td>no</td>
<td>1</td>
<td>Page number</td>
</tr>
</tbody></table>
<h2 id='response-7'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"original_images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4523</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-25T15:47:07.836Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-26T03:48:00.201Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4514</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-24T09:47:54.942Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-24T21:48:00.541Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4488</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-19T14:22:07.610Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20T02:23:00.149Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4487</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-19T14:21:50.287Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20T02:22:00.478Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4486</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-19T14:21:13.540Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20T02:22:00.515Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4485</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-19T14:21:11.969Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20T02:22:00.483Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4484</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-19T14:21:09.659Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20T02:22:00.495Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4483</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-19T14:20:54.646Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20T02:21:00.402Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4160</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enqueued"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-17T12:17:44.097Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-18T00:18:00.273Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4016</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-27T19:57:33.628Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-28T07:58:00.206Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span><span class="w">
    </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='webhooks'>Webhooks</h1>
<p>Crush API support following types of webhooks:</p>

<ul>
<li><code>image#processing</code></li>
<li><code>image#error</code></li>
<li><code>image#optimized</code></li>
<li><code>shop#subscription_updated</code></li>
</ul>

<p>Crush API use <code>POST</code> requests to send webhooks and treat webhook as successfully delivered if the webserver responds with status code <code>201 Created</code>.</p>

<p>If the webserver responds with any other HTTP status code - Crush API marks webhook as failed and try to redeliver it later. Max number of retries to deliver webhook - 5.</p>

<p>Crush API does not try to read response body.</p>
<h2 id='image-processing'><code>image#processing</code></h2>
<blockquote>
<p>Example payload</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shop_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url.to.download/image"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='image-error'><code>image#error</code></h2>
<blockquote>
<p>Example payload</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shop_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balanced"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cant_compress"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quota_usage:"</span><span class="p">:</span><span class="w"> </span><span class="mi">1212121</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='image-optimized'><code>image#optimized</code></h2>
<blockquote>
<p>Example payload</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shop_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"optimized"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimized_images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">154356</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://url.to.download/image"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">112</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expire_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-30T11:22:56Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"quota_usage:"</span><span class="p">:</span><span class="w"> </span><span class="mi">1212121</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='shop-subscription_updated'><code>shop#subscription_updated</code></h2>
<blockquote>
<p>Example payload</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shop"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shop_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription_updated"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"charged_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-30T11:22:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"next_charge_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-30T11:22:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JN677WHBDWH8762"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscription_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JN677WHBDWH8762"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"plan_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"free"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quota_usage"</span><span class="p">:</span><span class="w"> </span><span class="mi">16388889</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='errors'>Errors</h1>
<p>The Crush.pics API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid (Usually invalid JSON).</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- When your account is suspended.</td>
</tr>
<tr>
<td>413</td>
<td>Request Entity Too Large -- Sending a file larger than your plan allows.</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type -- Sending an unsupported image type</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity -- Sending invalid JSON properties</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re sending too many requests at the same time.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server or any other unexpected server error. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
