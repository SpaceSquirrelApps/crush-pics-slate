
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="authentication">Authentication</a>
          </li>
          <li>
            <a href="#image-compression-synchronously" class="toc-h1 toc-link" data-title="image-compression-synchronously">Image compression (Synchronously)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#image-upload" class="toc-h2 toc-link" data-title="image-upload">Image Upload</a>
                  </li>
                  <li>
                    <a href="#image-url" class="toc-h2 toc-link" data-title="image-url">Image URL</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-compression-asynchronously-respond-with-webhooks" class="toc-h1 toc-link" data-title="image-compression-asynchronously-respond-with-webhooks">Image compression (Asynchronously, respond with webhooks)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#image-upload-2" class="toc-h2 toc-link" data-title="image-upload">Image Upload</a>
                  </li>
                  <li>
                    <a href="#image-url-2" class="toc-h2 toc-link" data-title="image-url">Image URL</a>
                  </li>
                  <li>
                    <a href="#response-2" class="toc-h2 toc-link" data-title="response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-resizing" class="toc-h1 toc-link" data-title="image-resizing">Image Resizing</a>
          </li>
          <li>
            <a href="#image-conversion" class="toc-h1 toc-link" data-title="image-conversion">Image Conversion</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#convert-parameters" class="toc-h2 toc-link" data-title="convert-parameters">Convert Parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#multiple-images" class="toc-h1 toc-link" data-title="multiple-images">Multiple Images</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#resize-object-parameters" class="toc-h2 toc-link" data-title="resize-object-parameters">Resize object parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#preserve-metadata" class="toc-h1 toc-link" data-title="preserve-metadata">Preserve Metadata</a>
          </li>
          <li>
            <a href="#image-orientation" class="toc-h1 toc-link" data-title="image-orientation">Image Orientation</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a API token</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>API Endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.crush.pics
</code></pre>
<p>Welcome to the Crush.pics API. This API allows you to compress and optimize <code>JPEG</code>, <code>PNG</code>, <code>GIF</code> and <code>SVG</code> images.</p>

<p>To use Crush.pics API, you need to sign up for Crush.pics API services and obtain your <b>API token</b>. Once you have setup your Account, you can start using Crush.pics API.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"image_url=https://your-website.com/images/image.png"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Crush.pics API accepts HTTPS <code>POST</code>, <code>PATCH</code>, <code>GET</code> requests. Each request needs to be a valid JSON object with mandatory headers <code>Authorization</code>, <code>Accept</code> and <code>Content-Type</code>.</p>

<aside class="notice">
Important: Crush.pics API supports only <code>HTTPS</code> protocol. All HTTP requests will be rejected.
</aside>
<h1 id='image-compression-synchronously'>Image compression (Synchronously)</h1>
<p>You can send any JPEG, PNG, GIF or SVG image to the Crush.pics API and it will automatically detect the type of image and compress it. You can choose to upload a file or provide a URL to the image.</p>

<p><code>POST https://api.crush.pics/v1/compress</code></p>
<h2 id='image-upload'>Image Upload</h2>
<blockquote>
<p>Example Request - compress image by uploading file</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: multipart/form-data; boundary=Fu0hjwe'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"file=@unoptimized-image.jpg"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span> <span class="se">\</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@unoptimized-image.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>yes</td>
<td></td>
<td>provide image content in POST request</td>
</tr>
<tr>
<td>compression_type</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy / lossless compression switch</td>
</tr>
<tr>
<td>compression_level</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td>resize</td>
<td>no</td>
<td>[]</td>
<td>an array of styles to resize image. Each object contains <code>style</code> (string, user-defined style name), <code>strategy</code> (string), <code>width</code> (integer) and <code>height</code> (integer) attributes</td>
</tr>
</tbody></table>
<h2 id='image-url'>Image URL</h2>
<p>Optimise image by provide an URL to the image you want to optimise.</p>

<blockquote>
<p>Example request - compress image from URL</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"image_url=https://your-website.com/images/image.png"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>image_url</td>
<td>yes</td>
<td></td>
<td>provide <code>URL</code> to the image you want to compress</td>
</tr>
<tr>
<td>compression_type</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy / lossless compression switch</td>
</tr>
<tr>
<td>compression_level</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td>resize</td>
<td>no</td>
<td>[]</td>
<td>an array of styles to resize image. Each object contains <code>style</code> (string, user-defined style name), <code>strategy</code> (string), <code>width</code> (integer) and <code>height</code> (integer) attributes</td>
</tr>
</tbody></table>
<h2 id='response'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"original_image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297412</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:42.943Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:46.074Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/X8KxL3cD1viTBasepBwSL4Tz/photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"optimized_images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enqueued"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossless"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"icon"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/ZdcSBAk1m4XMeH9KNvSmWFNN/photo.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">465</span><span class="p">,</span><span class="w">
        </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:43.005Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-09T13:07:46.069Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Response body will have optimization results containing a success property, original file size, compressed file size, amount of savings, original image dimensions (in pixels) and optimized image URL.</p>
<h1 id='image-compression-asynchronously-respond-with-webhooks'>Image compression (Asynchronously, respond with webhooks)</h1>
<p>You can send any JPEG, PNG, GIF or SVG image to the Crush.pics API and it will automatically detect the type of image and compress it. You can choose to upload a file or provide a URL to the image.</p>

<p><code>POST https://api.crush.pics/v1/original_images</code></p>
<h2 id='image-upload-2'>Image Upload</h2>
<p>Optimise image with direct upload in POST request</p>

<blockquote>
<p>Example Request - compress image by uploading file</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/original_images"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: multipart/form-data; boundary=Fu0hjwe'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"file=@unoptimized-image.jpg"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span> <span class="se">\</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@unoptimized-image.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>yes</td>
<td></td>
<td>provide image content in POST request</td>
</tr>
<tr>
<td>compression_type</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy / lossless compression switch</td>
</tr>
<tr>
<td>compression_level</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td>resize</td>
<td>no</td>
<td>[]</td>
<td>an array of styles to resize image. Each object contains <code>style</code> (string, user-defined style name), <code>strategy</code> (string), <code>width</code> (integer) and <code>height</code> (integer) attributes</td>
</tr>
</tbody></table>
<h2 id='image-url-2'>Image URL</h2>
<p>Optimise image by provide an URL to the image you want to optimise.</p>

<blockquote>
<p>Example request - compress image from URL</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/original_images"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -F <span class="s2">"image_url=https://your-website.com/images/image.png"</span> <span class="se">\</span>
     -F <span class="s2">"compression_type=lossy"</span> <span class="se">\</span>
     -F <span class="s2">"compression_level=65"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lossy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compression_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>image_url</td>
<td>yes</td>
<td></td>
<td>provide <code>URL</code> to the image you want to compress</td>
</tr>
<tr>
<td>compression_type</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy / lossless compression switch</td>
</tr>
<tr>
<td>compression_level</td>
<td>no</td>
<td>fallback to account settings</td>
<td>lossy compression quality settings (1-100)</td>
</tr>
<tr>
<td>resize</td>
<td>no</td>
<td>[]</td>
<td>an array of styles to resize image. Each object contains <code>style</code> (string, user-defined style name), <code>strategy</code> (string), <code>width</code> (integer) and <code>height</code> (integer) attributes</td>
</tr>
</tbody></table>

<aside class="notice">
If HTTP Basic Authentication is enabled on your webserver simply include the username and password as part of the image URL like so: <code>https://username:password@my-website.com/images/image.png</code>
</aside>
<h2 id='response-2'>Response</h2>
<blockquote>
<p>Example response</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"original_image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">297412</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"photo.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enqueued"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-29T15:52:22.589Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-29T15:52:22.596Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.crush.pics/v1/files/LX8Xhv3Z2T2dQDSRnrC3UBxg/photo.png"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Response body will contain a set of basic image attributes e.g <code>id</code>, <code>size</code>, <code>filename</code>, <code>status</code> and etc. Using the image <code>id</code> you can fetch results of image optimization and get compressed/resized images.</p>
<h1 id='image-resizing'>Image Resizing</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X <span class="s2">"POST"</span> <span class="s2">"https://api.crush.pics/v1/compress"</span> <span class="se">\</span>
     -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: multipart/form-data; boundary=ArRCoq7'</span> <span class="se">\</span>
     -H <span class="s1">'Authorization: Bearer your-api-token'</span> <span class="se">\</span>
     -d <span class="s1">$'{
  "origin": "file",
  "compression_type": "lossy",
  "resize[][width]": "100",
  "compression_level": "65",
  "image_url": "http://your-website.com/images/image.png",
  "resize[][style]": "thumb",
  "resize[][height]": "100",
  "resize[][width]": "320",
  "resize[][height]": "crop",
  "resize[][style]": "pico",
  "resize[][height]": "25",
  "resize[][width]": "80",
  "resize[][height]": "crop",
}'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resize"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"crop"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thumb"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="s2">"strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"crop"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pico"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>You can use Crush.pics API resizing option to create thumbnails or preview images for your applications. Crush.pics will first resize the given image and then optimize it. The resize option needs a few parameters to be passed, such as the desired width and/or height, as well as a mandatory strategy property.</p>
<h1 id='image-conversion'>Image Conversion</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://api.crush.pics/v1/compress <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
--form <span class="nv">data</span><span class="o">=</span><span class="s1">'{ "api_key": "your-api-key", "image_url": "http://your-website.com/images/image.png","convert": {"format": "jpeg", "background": "#ffffff"} }'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-api-key"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"convert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jpeg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"background"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#ffffff"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>If you want to convert image to different type/format, you can do it by passing <code>convert</code> object in your request JSON.</p>
<h3 id='convert-parameters'>Convert Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>format</td>
<td></td>
<td>Desired image format you wish to convert your image into. This can accept one of the following values: <code>jpeg</code>, <code>png</code> or <code>gif</code>.</td>
</tr>
<tr>
<td>background</td>
<td>#ffffff</td>
<td>If you convert from transparent file formats (PNG or GIF) into fully opaque format like JPEG, you need to specify background color. The background property can be passed in HEX notation (for eg: <code>&quot;#000000&quot;</code>).</td>
</tr>
</tbody></table>
<h1 id='multiple-images'>Multiple Images</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://api.crush.pics/v1/compress <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
--form <span class="nv">data</span><span class="o">=</span><span class="s1">'{ "api_key": "your-api-key", "image_url": "http://your-website.com/images/image.png","convert": {"format": "jpeg", "background": "#ffffff"} }'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-api-key"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resize"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"small"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="w">
    </span><span class="p">},</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Example response:</p>

<p>HTTP/1.1 200 OK</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

  <span class="s2">"results"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"small"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"crushed_url"</span><span class="p">:</span> <span class="s2">"https://api.crush.pics/download/3e2708872ead4dbdb7e911721a0bd420.png"</span><span class="p">,</span>
      <span class="s2">"original_file_size"</span><span class="p">:</span> <span class="mi">426781</span><span class="p">,</span>
      <span class="s2">"crushed_file_size"</span><span class="p">:</span> <span class="mi">203187</span><span class="p">,</span>
      <span class="s2">"file_saved_bytes"</span><span class="p">:</span> <span class="mi">223594</span><span class="p">,</span>
      <span class="s2">"original_width"</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
      <span class="s2">"original_height"</span><span class="p">:</span> <span class="mi">480</span><span class="p">,</span>
      <span class="s2">"crushed_width"</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
      <span class="s2">"crushed_height"</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
      <span class="s2">"image_type"</span><span class="p">:</span> <span class="s2">"image/png"</span>
    <span class="p">},</span>
    <span class="s2">"medium"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"crushed_url"</span><span class="p">:</span> <span class="s2">"https://api.crush.pics/download/ba34f15cd34543fcbbe62c13595a086f.png"</span><span class="p">,</span>
      <span class="s2">"original_file_size"</span><span class="p">:</span> <span class="mi">426781</span><span class="p">,</span>
      <span class="s2">"crushed_file_size"</span><span class="p">:</span> <span class="mi">203187</span><span class="p">,</span>
      <span class="s2">"file_saved_bytes"</span><span class="p">:</span> <span class="mi">223594</span><span class="p">,</span>
      <span class="s2">"original_width"</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
      <span class="s2">"original_height"</span><span class="p">:</span> <span class="mi">480</span><span class="p">,</span>
      <span class="s2">"crushed_width"</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
      <span class="s2">"crushed_height"</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
      <span class="s2">"image_type"</span><span class="p">:</span> <span class="s2">"image/png"</span>
    <span class="p">},</span>
    <span class="s2">"large"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"crushed_url"</span><span class="p">:</span> <span class="s2">"https://api.crush.pics/download/19805cbee6c543a78514a2e4424964e4.png"</span><span class="p">,</span>
      <span class="s2">"original_file_size"</span><span class="p">:</span> <span class="mi">426781</span><span class="p">,</span>
      <span class="s2">"crushed_file_size"</span><span class="p">:</span> <span class="mi">203187</span><span class="p">,</span>
      <span class="s2">"file_saved_bytes"</span><span class="p">:</span> <span class="mi">223594</span><span class="p">,</span>
      <span class="s2">"original_width"</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
      <span class="s2">"original_height"</span><span class="p">:</span> <span class="mi">480</span><span class="p">,</span>
      <span class="s2">"crushed_width"</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
      <span class="s2">"crushed_height"</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
      <span class="s2">"image_type"</span><span class="p">:</span> <span class="s2">"image/png"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<p>Crush.pics API allows you to upload a single image and get back up to ten separate sizes, incorporating different resizing strategies, within a single response.</p>

<p>To use multi-resize feature, you will need to add an array of objects as value to the resize param. Each object must contain an unique id, together with a strategy, and the parameters specific to that strategy. The id can either be a string or a number, bearing in mind that numbers will get coerced to a string for the response. On right, you can see example multi-resize object requesting three different sizes</p>
<h2 id='resize-object-parameters'>Resize object parameters</h2>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://api.crush.pics/v1/compress <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
--form <span class="nv">data</span><span class="o">=</span><span class="s1">'{ "api_key": "your-api-key", "image_url": "http://your-website.com/images/image.png",   "resize": [{"id": "small", "width": "150", "height": "150", "quality": 65 }, {"id": "medium", "width": "300", "height": "300", "quality": 75 }, {"id": "large", "width": "600", "height": "600", "lossy": false } ] }'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-api-key"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"resize"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"small"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quality"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quality"</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lossy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>By default, each resize object inherits certain values from the top level of the request - namely the values of the lossy, quality. However, those values can be overridden per resize object. For example, when requesting JPEG outputs you can specify different quality values per each output.</p>

<p>Below are several examples of overriding global request properties within resize objects:</p>
<h1 id='preserve-metadata'>Preserve Metadata</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://api.crush.pics/v1/compress <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
--form <span class="nv">data</span><span class="o">=</span><span class="s1">'{ "api_key": "your-api-key", "image_url": "http://your-website.com/images/image.png", "preserve_meta": [ "orientation", "date", "copyright", "profile" ] }'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-api-key"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preserve_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"orientation"</span><span class="p">,</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"copyright"</span><span class="p">,</span><span class="w"> </span><span class="s2">"profile"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>By default Crush.pics API will strip all the metadata found in an image to make the image file as small as it is possible, and in both lossy and lossless modes. Entries like EXIF, XMP and IPTC tags, colour profile information, etc. will be stripped altogether.</p>

<p>In order to preserve metadata, add an additional preserve_meta array to your JSON request with list of properties you want to preserve</p>
<h1 id='image-orientation'>Image Orientation</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://api.crush.pics/v1/compress <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
--form <span class="nv">data</span><span class="o">=</span><span class="s1">'{ "api_key": "your-api-key", "image_url": "http://your-website.com/images/image.png", "auto_rotate": "true" }'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-api-key"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://your-website.com/images/image.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_rotate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you want auto-rotate images using EXIF orientation tags, add <code>&quot;auto_rotate&quot;: true</code> to your request</p>
<h1 id='errors'>Errors</h1>
<p>The Crush.pics API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid (Usually invalid JSON).</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- When your account is suspended.</td>
</tr>
<tr>
<td>413</td>
<td>Request Entity Too Large -- Sending a file larger than your plan allows.</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type -- Sending an unsupported image type</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity -- Sending invalid JSON properties</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re sending too many requests at the same time.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server or any other unexpected server error. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
